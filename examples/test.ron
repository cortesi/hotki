(
    keys: [
        ("shift+cmd+0", "activate", keys([
            ("h", "Hotki", keys([
                ("c", "Clear Notifications", clear_notifications),
                ("d", "Details", show_details(toggle)),
                ("r", "Reload Config", reload_config),
                ("o", "Show Root Keys", show_hud_root),
            ])),

            ("a", "Raise", keys([
                ("w", "wezterm", raise(app: "WezTerm")),
            ]), (capture: true)),


            ("c", "Key Capture", keys([
                ("a", "Hi", shell("echo hi", (ok_notify: success))),
            ]), (capture: true)),

            ("i", "Hide", keys([
                ("t", "toggle", hide(toggle)),
                ("s", "show", hide(off)),
                ("h", "hide", hide(on)),
            ]), (capture: true, noexit: true)),

            ("s", "Shell", keys([
                ("e", "Simple echo", shell("echo hi", (ok_notify: success))),
                ("s", "Sleep 5s", shell("sleep 5; echo slept 5s", (ok_notify: success))),
                // Shell repeat examples (repeat settings live in binding attrs)
                ("r", "Repeat Shell Default", shell("echo tick", (ok_notify: success)), (noexit: true, repeat: true)),
                ("t", "Repeat Shell Custom", shell("echo tock", (ok_notify: success)), (noexit: true, repeat: true, repeat_delay: 250, repeat_interval: 350)),
            ])),

            ("r", "Relay", keys([
                ("a", "Send X", relay("shift+x"), (noexit: true)),
                // Relay repeat examples (attrs apply to relay too)
                ("b", "Repeat Relay Custom", relay("shift+x"), (noexit: true, repeat: true, repeat_delay: 200, repeat_interval: 300)),
            ])),

            ("w", "Window Operations", keys([
                ("f", "Fullcreen", fullscreen(toggle)),
                ("n", "Fullcreen Native", fullscreen(toggle, native)),
                ("3", "3 Columns", keys([
                    ("1", "Column 1", place(grid(3, 1), at(0, 0))),
                    ("2", "Column 2", place(grid(3, 1), at(1, 0))),
                    ("3", "Column 3", place(grid(3, 1), at(2, 0))),
                ])),
                ("4", "4x4 Columns", keys([
                    ("l", "left", place_move(grid(4, 4), right)),
                    ("h", "right", place_move(grid(4, 4), left)),
                    ("k", "up", place_move(grid(4, 4), up)),
                    ("j", "down", place_move(grid(4, 4), down)),
                ])),
                ("s", "spaces", keys([
                    // space(N) removed
                                    ])),
            ]), (noexit: true)),

            ("m", "Media", keys([
                // For media playback, use shell commands specific to your apps
                // Examples for Spotify:
                ("space", "Play/Pause", shell("osascript -e 'tell application \"Spotify\" to playpause'")),
                ("n", "Next", shell("osascript -e 'tell application \"Spotify\" to next track'")),
                ("b", "Previous", shell("osascript -e 'tell application \"Spotify\" to previous track'")),
                ("1", "10%", set_volume(10), (noexit: true)),
                ("5", "50%", set_volume(50), (noexit: true)),
                ("m", "mute", mute(toggle), (noexit: true)),
                ("up", "Up 10", change_volume(10), (noexit: true)),
                ("down", "Down 10", change_volume(-10), (noexit: true)),
            ])),

            ("t", "Theme tester", keys([
                ("h", "Theme Prev", theme_prev, (noexit: true)),
                ("l", "Theme Next", theme_next, (noexit: true)),
                ("s", "Success", shell("echo this is a success window", (ok_notify: success)), (noexit: true)),
                ("i", "Info", shell("echo this is an info window", (ok_notify: info)), (noexit: true)),
                ("w", "Warning", shell("echo this is a warning window && false"), (noexit: true)),
                ("e", "Error", shell("echo this is an error window && false", (err_notify: error)), (noexit: true)),
                ("u", "User Style", user_style(toggle), (noexit: true)),
                (
                    "m", "Mini",
                    keys([
                        ("h", "Theme Prev", theme_prev, (noexit: true)),
                        ("l", "Theme Next", theme_next, (noexit: true)),
                    ]),
                    (style: (hud: (mode: mini)))
                ),
                ("shift+l", "Long Submode", keys([
                    ("a", "Inner Action A", shell("echo here")),
                    ("b", "Inner Action B", shell("echo here")),
                    ("c", "Inner Action C", shell("echo here")),
                    ("d", "Inner Action D", shell("echo here")),
                    ("e", "Inner Action E", shell("echo here")),
                    ("f", "Inner Action F", shell("echo here")),
                    ("g", "Inner Action G", shell("echo here")),
                    ("h", "Inner Action H", shell("echo here")),
                    ("ctrl+cmd+j", "Inner Mode with a very long title", keys([
                        ("i", "Inner Mode", shell("echo Inner Mode")),
                        ("r", "Return to Main Menu", pop)
                    ])),
                    ("ctrl+cmd+i", "Inner Action with a very long title", shell("echo here")),
                ])),
                ("shift+s", "Long Success", shell("
                    awk -v F=%c '
                    BEGIN{
                      srand()
                      for(i=10;i--;){
                        for(j=int(rand()*10)+1;j--;){
                          for(k=int(rand()*9)+2;k--;) printf F, 97+int(rand()*26)
                          printf j?OFS:ORS
                        }
                      }
                      exit
                    }'
                ", (ok_notify: success)), (noexit: true)),
                ("shift+i", "Long Info", shell("
                    awk -v F=%c '
                    BEGIN{
                      srand()
                      for(i=10;i--;){
                        for(j=int(rand()*10)+1;j--;){
                          for(k=int(rand()*9)+2;k--;) printf F, 97+int(rand()*26)
                          printf j?OFS:ORS
                        }
                      }
                      exit
                    }'
                ", (ok_notify: info)), (noexit: true)),
                ("shift+w", "Long Warning", shell("
                    awk -v F=%c '
                    BEGIN{
                      srand()
                      for(i=10;i--;){
                        for(j=int(rand()*10)+1;j--;){
                          for(k=int(rand()*9)+2;k--;) printf F, 97+int(rand()*26)
                          printf j?OFS:ORS
                        }
                      }
                      exit
                    }'  && false
                "), (noexit: true)),
                ("shift+e", "Long Error", shell("
                    awk -v F=%c '
                    BEGIN{
                      srand()
                      for(i=10;i--;){
                        for(j=int(rand()*10)+1;j--;){
                          for(k=int(rand()*9)+2;k--;) printf F, 97+int(rand()*26)
                          printf j?OFS:ORS
                        }
                      }
                      exit
                    }'  && false
                ", (err_notify: error)), (noexit: true)),
                ]), (noexit: true)
            ),

            ("u", "Subtheme", keys([
                    (
                        "u", "Sub Subtheme",
                        keys([
                            ("h", "Theme Prev", theme_prev, (noexit: true)),
                            ("l", "Theme Next", theme_next, (noexit: true)),
                        ]),
                        (style: (hud: (bg: "#ff0000")))
                    )
                ]),
                (style: (hud: (pos: nw))),
            ),

            ("shift+cmd+0", "exit", exit, (global: true, hide: true)),
        ])),
        ("shift+cmd+9", "activate", keys([
            ("a", "Inner Action A", shell("echo here")),
            ("b", "Inner Action B", shell("echo here")),
            ("c", "Inner Action C", shell("echo here")),
            ("d", "Inner Action D", shell("echo here")),
            ("e", "Inner Action E", shell("echo here")),
            ("f", "Inner Action F", shell("echo here")),
            ("g", "Inner Action G", shell("echo here")),
            ("h", "Inner Action H", shell("echo here")),
            ("ctrl+cmd+i", "Inner Action I", shell("echo here")),
            ("shift+cmd+9", "exit", exit, (global: true, hide: true)),
        ])),
        ("esc", "Back", pop, (global: true, hide: true, hud_only: true)),
    ]
)
